    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Recommendation page</title>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
      
        <style>
            body {
              font-family: poppins;
                background-color: #f8f9fa;
            }
            .navbar {
                box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);
            }

            .nav-link:hover {
                color: orange !important; /* Change text color on hover */
            }
            .nav-link.btn {
                border-radius: 5px; /* Add rounded corners to buttons */
            }
            /* Additional styles for modal */
            .modal-body {
                text-align: center;
            }
            .modal-content {
                background-color: #fff; /* Set modal content background color */
                color: #000; /* Set modal content text color */
            }
            .modal-content.dark {
                background-color: #000; /* Set modal content background color for dark theme */
                color: #ffffff; /* Set modal content text color for dark theme */
            }
            /* dropdown */
          #dropdown-products {
            font-size: 14px;
        }

        #dropdown-products option:first-child {
            display: none; /* Hide the first placeholder option */
        }

        #dropdown-products option input {
            border: none;
            outline: none;
            font-size: 14px;
        }



        /* CSS */
        .button-34 {
          background: #5E5DF0;
          border-radius: 10px;
          box-shadow: #5E5DF0 0 10px 20px -10px;
          box-sizing: border-box;
          color: #FFFFFF;
          cursor: pointer;
          font-family: Inter,Helvetica,"Apple Color Emoji","Segoe UI Emoji",NotoColorEmoji,"Noto Color Emoji","Segoe UI Symbol","Android Emoji",EmojiSymbols,-apple-system,system-ui,"Segoe UI",Roboto,"Helvetica Neue","Noto Sans",sans-serif;
          font-size: 16px;
          font-weight: 700;
          line-height: 24px;
          opacity: 1;
          margin-left: 5px;
          outline: 0 solid transparent;
          padding: 8px 18px;
          user-select: none;
          -webkit-user-select: none;
          touch-action: manipulation;
          width: fit-content;
          word-break: break-word;
          border: 0;
        }
        .button-34:hover { box-shadow: rgba(45, 35, 66, .4) 0 4px 8px, rgba(45, 35, 66, .3) 0 7px 13px -3px, 
          #3c4fe0 0 -3px 0 inset; transform: translateY(-2px); } 

      .card {
            border: none;
            border-radius: 12px;
            box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease, border 0.3s ease;
            min-height: 380px;
            margin-bottom: 30px;
            cursor: pointer;
          }

          .card:hover {
            transform: translateY(-10px);
            box-shadow: 0px 15px 25px rgba(0, 0, 0, 0.2);
            border: 2px solid rgb(38, 115, 214);
          }

          .card-img-top {
            border-radius: 12px;
            height: 220px;
            object-fit: contain;
            width: 100%;
            border-bottom: 2px solid rgba(0, 0, 0, 0.1);
          }

          .card-body {
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            height: 100%;
            padding: 15px;
          }

          .card-title {
            font-size: 1.2rem;
            color: #333;
            text-align: center;
          }

          .card-text {
            color: #777;
            text-align: center;
          }

        </style>
    </head>
    <body>


    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark">
      <div class="container-fluid">
          <a class="navbar-brand" href="/#" style="color: rgba(65, 79, 241, 0.905); font-weight: bolder; font-size: lar">ShopWise</a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
            <ul class="navbar-nav">
              <li class="nav-item active" style="color: rgba(65, 79, 241, 0.905)">
                <a class="nav-link" href="/#" style="color: rgba(65, 79, 241, 0.905)">
                  <i class="fas fa-home" style="color: rgba(65, 79, 241, 0.905); font-weight: bolder;"></i>
                  Home
                </a>
              </li>
        
              <li class="nav-item">
                <a class="nav-link" href="#" id="settingsLink" style="color: rgba(65, 79, 241, 0.905)" >
                  <i class="fas fa-cog" style="color: rgba(65, 79, 241, 0.905); font-weight: bolder;"></i> Settings</a>
              </li>
              <!-- <li class="nav-item">
                <a class="nav-link btn btn-outline-primary mr-2" href="#" data-toggle="modal" data-target="#signupModal" style="color: rgba(65, 79, 241, 0.905); font-weight: bolder;">Sign Up</a>
              </li>
              <li class="nav-item">
                <a class="nav-link btn btn-primary" href="#" data-toggle="modal" data-target="#signinModal" style="color: rgba(255, 255, 255, 0.905); font-weight: bolder;">Sign In</a>
              </li>
            </ul> -->
          </div>
        </nav>



    <!--------------------------------------------------------------------- Search Bar ---------------------------------------------------------------------------------------->
    <div class="container" style="margin-top:100px;">

    <form class="d-flex justify-content-center mt-4"; action="/recommendations" method="post">
        <select class="form-control w-50 custom-select"  name="prod" required >
            <option value="" disabled selected>Select a product...</option>
            {% for product in product_list %}
            <option value="{{ product }}">{{ truncate(product,50) }}</option>
            {% endfor %}
        </select>
        <input type="number" class="form-control" name="nbr" placeholder="Number of products..." style="width: 110px;">
        <button class="button-34 btn btn-light ms-3" type="submit" style="background-color: rgb(38, 115, 214); color: white;">Search</button>
    </form>
    </div>


    {% if message %}
    <h5 style="margin-left:42%; margin-top:10px; text-align: center; text-decoration: bold;">{{message1}}</h5>
    {% endif %}
    <!-- --------------------------------------------------------------------------------------------------------------------------------------------------------------- -->
    
    <!--trending recommendations-->
    <!--'Name', 'ReviewCount', 'Brand', 'ImageURL', 'Rating'-->
    <!-- Products -->
    {% if not content_based_rec.empty %}
    <div class="container mt-5">
      <h2 class="text-center mb-5" style="font-weight: bold;">Recommended Products</h2>
      <div class="row mt-5">
        {% for index, product in content_based_rec.iterrows() %}
        <div class="col-lg-4 col-md-5 col-sm-7 mb-5">
          <div class="card">
              <img src="{{ product['ImageURL'] }}" class="card-img-top" alt="{{ product['Name'] }}" style="height: 200px;">
            <div class="card-body">
              <h5 class="card-title">{{ truncate(product['Name'],12) }}</h5>
              <p class="card-text">Brand: {{ product['Brand'] }}</p>
              <p class="card-text">Price: ${{ product['Price'] }}</p> <!-- Display Price -->
              <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#productModal{{ index }}">Details</button>
            </div>
          </div>
        </div>
        <!-- Modal -->
        <div class="modal fade" id="productModal{{ index }}" tabindex="-1" role="dialog" aria-labelledby="productModalLabel" aria-hidden="true">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="productModalLabel">{{ product['Name'] }}</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <div class="row">
                  <div class="col-md-4">
                      <img src="{{ product['ImageURL'] }}" class="img-fluid" alt="{{ product['Name'] }}" style="height: 200px;">
                  </div>
                  <div class="col-md-8">
                    <p><strong>Brand:</strong> {{ product['Brand'] }}</p>
                    <!-- Add other product details here -->
                    <!-- Example: -->
                    <p><strong>Review Count:</strong> {{ product['ReviewCount'] }}</p>
                    <p><strong>Rating:</strong> {{ product['Rating'] }}</p>
                    <p><strong>Price:</strong> ${{ product['Price'] }}</p>
                    <!-- Add more details as needed -->
                  </div>
                </div>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <!-- <button type="button" class="btn btn-primary">Add to Cart</button> -->
              </div>
            </div>
          </div>
        </div>
        {% endfor %}
      </div>
    </div>
    {% else %}
    <div class="text-center mt-5">
      <p>{{ message or "No recommendations available at the moment." }}</p>
    </div>
    {% endif %}




    <!-- Settings Modal -->
    <div class="modal fade" id="settingsModal" tabindex="-1" role="dialog" aria-labelledby="settingsModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="settingsModalLabel">Settings</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <h5>Choose Theme:</h5>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="theme" id="defaultTheme" value="default" checked>
              <label class="form-check-label" for="defaultTheme">
                Default
              </label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="theme" id="blackTheme" value="black">
              <label class="form-check-label" for="blackTheme">
                Black Theme
              </label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="theme" id="greenTheme" value="green">
              <label class="form-check-label" for="greenTheme">
                Green Theme
              </label>
            </div>
            <hr>
            <h5>Zoom:</h5>
            <button type="button" class="btn btn-primary mr-2" id="zoomIn">Zoom In</button>
            <button type="button" class="btn btn-primary" id="zoomOut">Zoom Out</button>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary" id="applyTheme">Apply</button>
          </div>
        </div>
      </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script>
      // Handle click on Settings link to open the modal
      document.getElementById('settingsLink').addEventListener('click', function() {
        $('#settingsModal').modal('show');
      });

      // Handle theme apply button click
      document.getElementById('applyTheme').addEventListener('click', function() {
        // Get the selected theme value
        var selectedTheme = document.querySelector('input[name="theme"]:checked').value;

        // Apply the selected theme
        if (selectedTheme === 'black') {
          document.body.style.backgroundColor = 'black';
          document.body.style.color = 'white';
        } else if (selectedTheme === 'green') {
          document.body.style.backgroundColor = 'green';
          document.body.style.color = 'white';
        } else {
          // Default theme
          document.body.style.backgroundColor = '#f8f9fa';
          document.body.style.color = 'black';
        }

        // Close the modal
        $('#settingsModal').modal('hide');
      });

      // Handle zoom in button click
      document.getElementById('zoomIn').addEventListener('click', function() {
        document.body.style.zoom = "115%";
      });

      // Handle zoom out button click
      document.getElementById('zoomOut').addEventListener('click', function() {
        document.body.style.zoom = "100%";
      });
    </script>



    <!--footer-->
    <footer class="footer bg-dark text-white" style="margin-top:368px;">
        <div class="container" style="padding-top:50px;">
            <div class="row mt-3">
                <div class="col-md-12">
                    <hr class="bg-light">
                    <p class="text-center"> &copy; 2024 ShopWise. All Rights Reserved.</p>
                </div>
            </div>
        </div>
    </footer>


    </body>
    </html>